<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.gimnasioproyect.controllers.ReportesController"
            style="-fx-background-color: #2c3e50; -fx-background: #2c3e50;"
            fitToWidth="true"
            hbarPolicy="NEVER"
            vbarPolicy="AS_NEEDED">

    <VBox spacing="20" style="-fx-background-color: #2c3e50;">
        <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
        </padding>

        <!-- Header -->
        <HBox alignment="CENTER_LEFT" spacing="15">
            <Text text="ðŸ“Š" style="-fx-fill: #3498db;">
                <font>
                    <Font size="32.0"/>
                </font>
            </Text>
            <VBox>
                <Text text="Reportes y EstadÃ­sticas" style="-fx-fill: #ecf0f1;">
                    <font>
                        <Font name="System Bold" size="24.0"/>
                    </font>
                </Text>
                <Text text="AnÃ¡lisis detallado del gimnasio" style="-fx-fill: #bdc3c7;">
                    <font>
                        <Font size="13.0"/>
                    </font>
                </Text>
            </VBox>

            <Region HBox.hgrow="ALWAYS"/>

            <Button fx:id="btnExportar" text="ðŸ“¥ Exportar" onAction="#handleExportar"
                    style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand; -fx-padding: 10 20;">
                <font>
                    <Font name="System Bold" size="13.0"/>
                </font>
            </Button>

            <Button fx:id="btnActualizar" text="ðŸ”„ Actualizar" onAction="#handleActualizar"
                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand; -fx-padding: 10 20;">
                <font>
                    <Font name="System Bold" size="13.0"/>
                </font>
            </Button>
        </HBox>

        <!-- Filtros de Fecha -->
        <HBox spacing="15" alignment="CENTER_LEFT"
              style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 15;">

            <Label text="ðŸ“… PerÃ­odo:" style="-fx-text-fill: #ecf0f1;">
                <font>
                    <Font name="System Bold" size="13.0"/>
                </font>
            </Label>

            <ComboBox fx:id="cmbPeriodo" promptText="Seleccione perÃ­odo" prefWidth="180"
                      style="-fx-background-color: #2c3e50;">
            </ComboBox>

            <Separator orientation="VERTICAL" prefHeight="30"/>

            <Label text="Desde:" style="-fx-text-fill: #ecf0f1;">
                <font>
                    <Font size="13.0"/>
                </font>
            </Label>
            <DatePicker fx:id="dpFechaDesde" prefWidth="150"
                        style="-fx-background-color: #2c3e50;">
            </DatePicker>

            <Label text="Hasta:" style="-fx-text-fill: #ecf0f1;">
                <font>
                    <Font size="13.0"/>
                </font>
            </Label>
            <DatePicker fx:id="dpFechaHasta" prefWidth="150"
                        style="-fx-background-color: #2c3e50;">
            </DatePicker>

            <Button text="Filtrar" onAction="#handleFiltrar"
                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand; -fx-padding: 8 15;">
            </Button>

            <Button text="Limpiar" onAction="#handleLimpiarFiltros"
                    style="-fx-background-color: #95a5a6; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand; -fx-padding: 8 15;">
            </Button>
        </HBox>

        <!-- Tabs de Reportes -->
        <TabPane fx:id="tabPane" VBox.vgrow="ALWAYS"
                 style="-fx-background-color: #34495e;">

            <!-- Tab: Resumen General -->
            <Tab text="ðŸ“Š Resumen General" closable="false">
                <ScrollPane fitToWidth="true" style="-fx-background: #2c3e50; -fx-background-color: #2c3e50;">
                    <VBox spacing="20" style="-fx-padding: 20; -fx-background-color: #2c3e50;">

                        <!-- MÃ©tricas Generales -->
                        <GridPane hgap="20" vgap="20">

                            <VBox spacing="10" alignment="CENTER"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Text text="ðŸ‘¥" style="-fx-fill: #3498db;">
                                    <font>
                                        <Font size="32.0"/>
                                    </font>
                                </Text>
                                <Text fx:id="lblResumenTotalClientes" text="0" style="-fx-fill: #ecf0f1;">
                                    <font>
                                        <Font name="System Bold" size="36.0"/>
                                    </font>
                                </Text>
                                <Text text="Total Clientes" style="-fx-fill: #bdc3c7;">
                                    <font>
                                        <Font size="13.0"/>
                                    </font>
                                </Text>
                            </VBox>

                            <VBox spacing="10" alignment="CENTER"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Text text="âœ…" style="-fx-fill: #27ae60;">
                                    <font>
                                        <Font size="32.0"/>
                                    </font>
                                </Text>
                                <Text fx:id="lblResumenActivos" text="0" style="-fx-fill: #27ae60;">
                                    <font>
                                        <Font name="System Bold" size="36.0"/>
                                    </font>
                                </Text>
                                <Text text="Clientes Activos" style="-fx-fill: #bdc3c7;">
                                    <font>
                                        <Font size="13.0"/>
                                    </font>
                                </Text>
                            </VBox>

                            <VBox spacing="10" alignment="CENTER"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Text text="âŒ" style="-fx-fill: #e74c3c;">
                                    <font>
                                        <Font size="32.0"/>
                                    </font>
                                </Text>
                                <Text fx:id="lblResumenInactivos" text="0" style="-fx-fill: #e74c3c;">
                                    <font>
                                        <Font name="System Bold" size="36.0"/>
                                    </font>
                                </Text>
                                <Text text="Clientes Inactivos" style="-fx-fill: #bdc3c7;">
                                    <font>
                                        <Font size="13.0"/>
                                    </font>
                                </Text>
                            </VBox>

                            <VBox spacing="10" alignment="CENTER"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="3" GridPane.rowIndex="0">
                                <Text text="ðŸ’°" style="-fx-fill: #f39c12;">
                                    <font>
                                        <Font size="32.0"/>
                                    </font>
                                </Text>
                                <Text fx:id="lblResumenIngresos" text="0" style="-fx-fill: #f39c12;">
                                    <font>
                                        <Font name="System Bold" size="36.0"/>
                                    </font>
                                </Text>
                                <Text text="Ingresos Totales" style="-fx-fill: #bdc3c7;">
                                    <font>
                                        <Font size="13.0"/>
                                    </font>
                                </Text>
                            </VBox>

                        </GridPane>

                        <!-- InformaciÃ³n Adicional -->
                        <HBox spacing="20">

                            <VBox spacing="15" HBox.hgrow="ALWAYS"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Text text="ðŸ“ˆ" style="-fx-fill: #3498db;">
                                        <font>
                                            <Font size="20.0"/>
                                        </font>
                                    </Text>
                                    <Text text="Tendencias" style="-fx-fill: #ecf0f1;">
                                        <font>
                                            <Font name="System Bold" size="16.0"/>
                                        </font>
                                    </Text>
                                </HBox>

                                <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                                <VBox spacing="10">
                                    <HBox spacing="10" alignment="CENTER_LEFT">
                                        <Text text="ðŸ“Š" style="-fx-fill: #3498db;"/>
                                        <Label fx:id="lblTasaRenovacion" text="Tasa de renovaciÃ³n: 0%"
                                               style="-fx-text-fill: #ecf0f1;"/>
                                    </HBox>

                                    <HBox spacing="10" alignment="CENTER_LEFT">
                                        <Text text="ðŸ‘¥" style="-fx-fill: #27ae60;"/>
                                        <Label fx:id="lblNuevosMes" text="Nuevos este mes: 0"
                                               style="-fx-text-fill: #ecf0f1;"/>
                                    </HBox>

                                    <HBox spacing="10" alignment="CENTER_LEFT">
                                        <Text text="ðŸ‹ï¸" style="-fx-fill: #f39c12;"/>
                                        <Label fx:id="lblPromedioAsistencias" text="Promedio asistencias/dÃ­a: 0"
                                               style="-fx-text-fill: #ecf0f1;"/>
                                    </HBox>
                                </VBox>
                            </VBox>

                            <VBox spacing="15" HBox.hgrow="ALWAYS"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Text text="âš ï¸" style="-fx-fill: #e74c3c;">
                                        <font>
                                            <Font size="20.0"/>
                                        </font>
                                    </Text>
                                    <Text text="Alertas" style="-fx-fill: #ecf0f1;">
                                        <font>
                                            <Font name="System Bold" size="16.0"/>
                                        </font>
                                    </Text>
                                </HBox>

                                <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                                <VBox spacing="10">
                                    <HBox spacing="10" alignment="CENTER_LEFT">
                                        <Text text="ðŸ”´" style="-fx-fill: #e74c3c;"/>
                                        <Label fx:id="lblAlertaVencidas" text="MembresÃ­as vencidas: 0"
                                               style="-fx-text-fill: #e74c3c;"/>
                                    </HBox>

                                    <HBox spacing="10" alignment="CENTER_LEFT">
                                        <Text text="ðŸŸ¡" style="-fx-fill: #f39c12;"/>
                                        <Label fx:id="lblAlertaProximas" text="PrÃ³ximas a vencer: 0"
                                               style="-fx-text-fill: #f39c12;"/>
                                    </HBox>

                                    <HBox spacing="10" alignment="CENTER_LEFT">
                                        <Text text="ðŸ‹ï¸" style="-fx-fill: #3498db;"/>
                                        <Label fx:id="lblClientesConEntrenador" text="Con entrenador: 0"
                                               style="-fx-text-fill: #ecf0f1;"/>
                                    </HBox>
                                </VBox>
                            </VBox>

                        </HBox>

                    </VBox>
                </ScrollPane>
            </Tab>

            <!-- Tab: Asistencias -->
            <Tab text="ðŸ‹ï¸ Asistencias" closable="false">
                <ScrollPane fitToWidth="true" style="-fx-background: #2c3e50; -fx-background-color: #2c3e50;">
                    <VBox spacing="20" style="-fx-padding: 20; -fx-background-color: #2c3e50;">

                        <!-- EstadÃ­sticas de Asistencias -->
                        <GridPane hgap="20" vgap="20">

                            <VBox spacing="10" alignment="CENTER"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Text text="ðŸ“…" style="-fx-fill: #3498db;">
                                    <font>
                                        <Font size="28.0"/>
                                    </font>
                                </Text>
                                <Text fx:id="lblAsistenciasHoy" text="0" style="-fx-fill: #3498db;">
                                    <font>
                                        <Font name="System Bold" size="32.0"/>
                                    </font>
                                </Text>
                                <Text text="Asistencias Hoy" style="-fx-fill: #bdc3c7;">
                                    <font>
                                        <Font size="13.0"/>
                                    </font>
                                </Text>
                            </VBox>

                            <VBox spacing="10" alignment="CENTER"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Text text="ðŸ“†" style="-fx-fill: #27ae60;">
                                    <font>
                                        <Font size="28.0"/>
                                    </font>
                                </Text>
                                <Text fx:id="lblAsistenciasMes" text="0" style="-fx-fill: #27ae60;">
                                    <font>
                                        <Font name="System Bold" size="32.0"/>
                                    </font>
                                </Text>
                                <Text text="Asistencias Este Mes" style="-fx-fill: #bdc3c7;">
                                    <font>
                                        <Font size="13.0"/>
                                    </font>
                                </Text>
                            </VBox>

                            <VBox spacing="10" alignment="CENTER"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Text text="ðŸ“Š" style="-fx-fill: #f39c12;">
                                    <font>
                                        <Font size="28.0"/>
                                    </font>
                                </Text>
                                <Text fx:id="lblPromedioAsistenciasDia" text="0" style="-fx-fill: #f39c12;">
                                    <font>
                                        <Font name="System Bold" size="32.0"/>
                                    </font>
                                </Text>
                                <Text text="Promedio por DÃ­a" style="-fx-fill: #bdc3c7;">
                                    <font>
                                        <Font size="13.0"/>
                                    </font>
                                </Text>
                            </VBox>

                        </GridPane>

                        <!-- Top Clientes MÃ¡s Frecuentes -->
                        <VBox spacing="15"
                              style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;">
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <Text text="ðŸ†" style="-fx-fill: #f39c12;">
                                    <font>
                                        <Font size="24.0"/>
                                    </font>
                                </Text>
                                <Text text="Top 10 Clientes MÃ¡s Frecuentes" style="-fx-fill: #ecf0f1;">
                                    <font>
                                        <Font name="System Bold" size="16.0"/>
                                    </font>
                                </Text>
                            </HBox>

                            <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                            <TableView fx:id="tableTopClientes" prefHeight="300"
                                       style="-fx-background-color: #2c3e50; -fx-background-radius: 8;">
                                <columns>
                                    <TableColumn fx:id="colPosicion" text="#" prefWidth="50"/>
                                    <TableColumn fx:id="colDocumentoTop" text="Documento" prefWidth="120"/>
                                    <TableColumn fx:id="colNombreTop" text="Nombre" prefWidth="250"/>
                                    <TableColumn fx:id="colAsistenciasTop" text="Asistencias" prefWidth="150"/>
                                </columns>
                            </TableView>
                        </VBox>

                        <!-- Asistencias por DÃ­a de la Semana -->
                        <VBox spacing="15"
                              style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;">
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <Text text="ðŸ“Š" style="-fx-fill: #3498db;">
                                    <font>
                                        <Font size="24.0"/>
                                    </font>
                                </Text>
                                <Text text="Asistencias por DÃ­a de la Semana" style="-fx-fill: #ecf0f1;">
                                    <font>
                                        <Font name="System Bold" size="16.0"/>
                                    </font>
                                </Text>
                            </HBox>

                            <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                            <VBox fx:id="boxAsistenciasSemana" spacing="10">
                                <!-- Se llenarÃ¡ dinÃ¡micamente -->
                            </VBox>
                        </VBox>

                    </VBox>
                </ScrollPane>
            </Tab>

            <!-- Tab: MembresÃ­as -->
            <Tab text="ðŸ’³ MembresÃ­as" closable="false">
                <ScrollPane fitToWidth="true" style="-fx-background: #2c3e50; -fx-background-color: #2c3e50;">
                    <VBox spacing="20" style="-fx-padding: 20; -fx-background-color: #2c3e50;">

                        <!-- EstadÃ­sticas de MembresÃ­as -->
                        <GridPane hgap="20" vgap="20">

                            <VBox spacing="10" alignment="CENTER"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Text text="âœ…" style="-fx-fill: #27ae60;">
                                    <font>
                                        <Font size="28.0"/>
                                    </font>
                                </Text>
                                <Text fx:id="lblMembresiasActivas" text="0" style="-fx-fill: #27ae60;">
                                    <font>
                                        <Font name="System Bold" size="32.0"/>
                                    </font>
                                </Text>
                                <Text text="MembresÃ­as Activas" style="-fx-fill: #bdc3c7;">
                                    <font>
                                        <Font size="13.0"/>
                                    </font>
                                </Text>
                            </VBox>

                            <VBox spacing="10" alignment="CENTER"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Text text="âŒ" style="-fx-fill: #e74c3c;">
                                    <font>
                                        <Font size="28.0"/>
                                    </font>
                                </Text>
                                <Text fx:id="lblMembresiasVencidas" text="0" style="-fx-fill: #e74c3c;">
                                    <font>
                                        <Font name="System Bold" size="32.0"/>
                                    </font>
                                </Text>
                                <Text text="MembresÃ­as Vencidas" style="-fx-fill: #bdc3c7;">
                                    <font>
                                        <Font size="13.0"/>
                                    </font>
                                </Text>
                            </VBox>

                            <VBox spacing="10" alignment="CENTER"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Text text="âš ï¸" style="-fx-fill: #f39c12;">
                                    <font>
                                        <Font size="28.0"/>
                                    </font>
                                </Text>
                                <Text fx:id="lblMembresiasProximas" text="0" style="-fx-fill: #f39c12;">
                                    <font>
                                        <Font name="System Bold" size="32.0"/>
                                    </font>
                                </Text>
                                <Text text="PrÃ³ximas a Vencer" style="-fx-fill: #bdc3c7;">
                                    <font>
                                        <Font size="13.0"/>
                                    </font>
                                </Text>
                            </VBox>

                        </GridPane>

                        <!-- DistribuciÃ³n por Tipo -->
                        <VBox spacing="15"
                              style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;">
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <Text text="ðŸ“Š" style="-fx-fill: #9b59b6;">
                                    <font>
                                        <Font size="24.0"/>
                                    </font>
                                </Text>
                                <Text text="DistribuciÃ³n por Tipo de MembresÃ­a" style="-fx-fill: #ecf0f1;">
                                    <font>
                                        <Font name="System Bold" size="16.0"/>
                                    </font>
                                </Text>
                            </HBox>

                            <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                            <TableView fx:id="tableMembresias" prefHeight="300"
                                       style="-fx-background-color: #2c3e50; -fx-background-radius: 8;">
                                <columns>
                                    <TableColumn fx:id="colTipoMembresia" text="Tipo" prefWidth="200"/>
                                    <TableColumn fx:id="colCantidad" text="Cantidad" prefWidth="150"/>
                                    <TableColumn fx:id="colIngresosMembresia" text="Ingresos" prefWidth="200"/>
                                    <TableColumn fx:id="colPorcentaje" text=" del Total" prefWidth="150"/>
                                </columns>
                            </TableView>
                        </VBox>

                        <!-- Ingresos por Tipo -->
                        <VBox spacing="15"
                              style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;">
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <Text text="ðŸ’°" style="-fx-fill: #27ae60;">
                                    <font>
                                        <Font size="24.0"/>
                                    </font>
                                </Text>
                                <Text text="Ingresos por Tipo de MembresÃ­a" style="-fx-fill: #ecf0f1;">
                                    <font>
                                        <Font name="System Bold" size="16.0"/>
                                    </font>
                                </Text>
                            </HBox>

                            <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                            <VBox fx:id="boxIngresos" spacing="10">
                                <!-- Se llenarÃ¡ dinÃ¡micamente -->
                            </VBox>

                            <HBox spacing="15" alignment="CENTER_RIGHT">
                                <Text text="TOTAL:" style="-fx-fill: #ecf0f1;">
                                    <font>
                                        <Font name="System Bold" size="16.0"/>
                                    </font>
                                </Text>
                                <Text fx:id="lblIngresoTotal" text="0" style="-fx-fill: #27ae60;">
                                    <font>
                                        <Font name="System Bold" size="24.0"/>
                                    </font>
                                </Text>
                            </HBox>
                        </VBox>

                    </VBox>
                </ScrollPane>
            </Tab>

            <!-- Tab: Entrenadores -->
            <Tab text="ðŸ‹ï¸â€â™‚ï¸ Entrenadores" closable="false">
                <ScrollPane fitToWidth="true" style="-fx-background: #2c3e50; -fx-background-color: #2c3e50;">
                    <VBox spacing="20" style="-fx-padding: 20; -fx-background-color: #2c3e50;">

                        <!-- Total con Entrenador -->
                        <GridPane hgap="20" vgap="20">

                            <VBox spacing="10" alignment="CENTER"
                                  style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Text text="ðŸ‹ï¸" style="-fx-fill: #3498db;">
                                    <font>
                                        <Font size="28.0"/>
                                    </font>
                                </Text>
                                <Text fx:id="lblTotalConEntrenador" text="0" style="-fx-fill: #3498db;">
                                    <font>
                                        <Font name="System Bold" size="32.0"/>
                                    </font>
                                </Text>
                                <Text text="Clientes con Entrenador" style="-fx-fill: #bdc3c7;">
                                    <font>
                                        <Font size="13.0"/>
                                    </font>
                                </Text>
                            </VBox>

                        </GridPane>

                        <!-- DistribuciÃ³n de Clientes por Entrenador -->
                        <VBox spacing="15"
                              style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;">
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <Text text="ðŸ“Š" style="-fx-fill: #3498db;">
                                    <font>
                                        <Font size="24.0"/>
                                    </font>
                                </Text>
                                <Text text="DistribuciÃ³n de Clientes por Entrenador" style="-fx-fill: #ecf0f1;">
                                    <font>
                                        <Font name="System Bold" size="16.0"/>
                                    </font>
                                </Text>
                            </HBox>

                            <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                            <TableView fx:id="tableEntrenadores" prefHeight="400"
                                       style="-fx-background-color: #2c3e50; -fx-background-radius: 8;">
                                <columns>
                                    <TableColumn fx:id="colEntrenador" text="Entrenador" prefWidth="300"/>
                                    <TableColumn fx:id="colClientesAsignados" text="Clientes Asignados" prefWidth="200"/>
                                </columns>
                            </TableView>
                        </VBox>

                    </VBox>
                </ScrollPane>
            </Tab>

            <!-- Tab: Clientes por Barrio -->
            <Tab text="ðŸ“ UbicaciÃ³n" closable="false">
                <ScrollPane fitToWidth="true" style="-fx-background: #2c3e50; -fx-background-color: #2c3e50;">
                    <VBox spacing="20" style="-fx-padding: 20; -fx-background-color: #2c3e50;">

                        <VBox spacing="15"
                              style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;">
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <Text text="ðŸ“" style="-fx-fill: #e74c3c;">
                                    <font>
                                        <Font size="24.0"/>
                                    </font>
                                </Text>
                                <Text text="DistribuciÃ³n de Clientes por Barrio" style="-fx-fill: #ecf0f1;">
                                    <font>
                                        <Font name="System Bold" size="16.0"/>
                                    </font>
                                </Text>
                            </HBox>

                            <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                            <TableView fx:id="tableBarrios" prefHeight="400"
                                       style="-fx-background-color: #2c3e50; -fx-background-radius: 8;">
                                <columns>
                                    <TableColumn fx:id="colBarrio" text="Barrio" prefWidth="300"/>
                                    <TableColumn fx:id="colClientesBarrio" text="Cantidad de Clientes" prefWidth="200"/>
                                    <TableColumn fx:id="colPorcentajeBarrio" text="del Total" prefWidth="200"/>
                                </columns>
                            </TableView>
                        </VBox>
                    </VBox>
                </ScrollPane>
            </Tab>

        </TabPane>

    </VBox>
</ScrollPane>