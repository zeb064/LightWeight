<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="org.example.gimnasioproyect.controllers.HistorialAsistenciasController"
      style="-fx-background-color: #1a1a1a;"
      spacing="15">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="15">
        <Text text="ðŸ“‹" style="-fx-font-size: 28px;"/>
        <Text fx:id="lblNombreCliente"
              text="Historial de Asistencias"
              style="-fx-fill: #ecf0f1; -fx-font-size: 20px; -fx-font-weight: bold;"/>
    </HBox>

    <Separator style="-fx-background-color: #34495e;"/>

    <!-- EstadÃ­sticas Superiores -->
    <HBox spacing="15" alignment="CENTER">
        <!-- Total Asistencias -->
        <VBox alignment="CENTER" spacing="5"
              style="-fx-background-color: #2c3e50; -fx-background-radius: 8; -fx-padding: 15;"
              HBox.hgrow="ALWAYS">
            <Text text="Total Asistencias"
                  style="-fx-fill: #95a5a6; -fx-font-size: 12px;"/>
            <Text fx:id="lblTotalAsistencias"
                  text="0"
                  style="-fx-fill: #3498db; -fx-font-size: 28px; -fx-font-weight: bold;"/>
        </VBox>

        <!-- Primera Asistencia -->
        <VBox alignment="CENTER" spacing="5"
              style="-fx-background-color: #2c3e50; -fx-background-radius: 8; -fx-padding: 15;"
              HBox.hgrow="ALWAYS">
            <Text text="Primera Asistencia"
                  style="-fx-fill: #95a5a6; -fx-font-size: 12px;"/>
            <Text fx:id="lblPrimeraAsistencia"
                  text="-"
                  style="-fx-fill: #27ae60; -fx-font-size: 14px; -fx-font-weight: bold;"/>
        </VBox>

        <!-- Ãšltima Asistencia -->
        <VBox alignment="CENTER" spacing="5"
              style="-fx-background-color: #2c3e50; -fx-background-radius: 8; -fx-padding: 15;"
              HBox.hgrow="ALWAYS">
            <Text text="Ãšltima Asistencia"
                  style="-fx-fill: #95a5a6; -fx-font-size: 12px;"/>
            <Text fx:id="lblUltimaAsistencia"
                  text="-"
                  style="-fx-fill: #e74c3c; -fx-font-size: 14px; -fx-font-weight: bold;"/>
        </VBox>

        <!-- Promedio Mensual -->
        <VBox alignment="CENTER" spacing="5"
              style="-fx-background-color: #2c3e50; -fx-background-radius: 8; -fx-padding: 15;"
              HBox.hgrow="ALWAYS">
            <Text text="Promedio Mensual"
                  style="-fx-fill: #95a5a6; -fx-font-size: 12px;"/>
            <Text fx:id="lblPromedioMensual"
                  text="-"
                  style="-fx-fill: #f39c12; -fx-font-size: 28px; -fx-font-weight: bold;"/>
        </VBox>
    </HBox>

    <!-- Tabla de Historial -->
    <VBox VBox.vgrow="ALWAYS" spacing="10">
        <Text text="Registro de Asistencias"
              style="-fx-fill: #ecf0f1; -fx-font-size: 14px; -fx-font-weight: bold;"/>

        <TableView fx:id="tableHistorial"
                   VBox.vgrow="ALWAYS"
                   styleClass="tabla-historial"
                   style="-fx-background-color: #2c3e50; -fx-background-radius: 5; -fx-border-radius: 5;">

            <columns>
                <TableColumn fx:id="colNumero"
                             text="NÂ°"
                             prefWidth="60"
                             sortable="false"
                             style="-fx-alignment: CENTER;"/>

                <TableColumn fx:id="colFecha"
                             text="Fecha"
                             prefWidth="150"
                             sortable="false"/>

                <TableColumn fx:id="colDiaSemana"
                             text="DÃ­a de la Semana"
                             prefWidth="150"
                             sortable="false"
                             style="-fx-alignment: CENTER;"/>

                <TableColumn fx:id="colTiempoTranscurrido"
                             text="Tiempo Transcurrido"
                             prefWidth="140"
                             sortable="false"
                             style="-fx-alignment: CENTER;"/>
            </columns>

            <!-- Placeholder cuando no hay datos -->
            <placeholder>
                <VBox alignment="CENTER" spacing="10">
                    <Text text="ðŸ˜”" style="-fx-font-size: 48px;"/>
                    <Text text="Sin asistencias registradas"
                          style="-fx-fill: #7f8c8d; -fx-font-size: 14px;"/>
                </VBox>
            </placeholder>
        </TableView>
    </VBox>

    <!-- BotÃ³n Cerrar -->
    <HBox alignment="CENTER_RIGHT" spacing="10">
        <Button fx:id="btnCerrar"
                text="âœ• Cerrar"
                onAction="#handleCerrar"
                style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5; -fx-cursor: hand;">
            <font>
                <Font name="System Bold" size="14"/>
            </font>
        </Button>
    </HBox>
</VBox>