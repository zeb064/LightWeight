<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="org.example.gimnasioproyect.controllers.DetalleClienteController"
      spacing="20"
      style="-fx-background-color: #2c3e50;">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Header con acciones -->
    <HBox spacing="15" alignment="CENTER_LEFT">
        <Button text="â† Volver" onAction="#handleVolver"
                style="-fx-background-color: #7f8c8d; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand; -fx-padding: 8 15;">
        </Button>

        <VBox>
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Text text="ðŸ‘¤" style="-fx-fill: #3498db;">
                    <font><Font size="28.0"/></font>
                </Text>
                <Text fx:id="lblNombreCliente" text="Nombre del Cliente" style="-fx-fill: #ecf0f1;">
                    <font><Font name="System Bold" size="24.0"/></font>
                </Text>
            </HBox>
            <Text fx:id="lblDocumento" text="CC: 1234567890" style="-fx-fill: #bdc3c7;">
                <font><Font size="13.0"/></font>
            </Text>
        </VBox>

        <Region HBox.hgrow="ALWAYS"/>

        <!-- Botones de acciÃ³n -->
        <Button text="âœï¸ Editar" onAction="#handleEditar"
                style="-fx-background-color: #f39c12; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand; -fx-padding: 8 15;">
        </Button>
        <Button text="ðŸ’³ MembresÃ­a" onAction="#handleMembresia"
                style="-fx-background-color: #9b59b6; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand; -fx-padding: 8 15;">
        </Button>
        <Button text="ðŸ—‘ï¸ Eliminar" onAction="#handleEliminar"
                style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand; -fx-padding: 8 15;">
        </Button>
    </HBox>

    <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS"
                style="-fx-background: #2c3e50; -fx-background-color: #2c3e50;">
        <content>
            <VBox spacing="20" style="-fx-background-color: #2c3e50;">

                <!-- Fila 1: InformaciÃ³n Personal + Estado MembresÃ­a -->
                <HBox spacing="20" alignment="TOP_LEFT">

                    <!-- Card: InformaciÃ³n Personal -->
                    <VBox spacing="15" style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                          HBox.hgrow="ALWAYS">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Text text="ðŸ“‹" style="-fx-fill: #3498db;">
                                <font><Font size="20.0"/></font>
                            </Text>
                            <Text text="InformaciÃ³n Personal" style="-fx-fill: #ecf0f1;">
                                <font><Font name="System Bold" size="16.0"/></font>
                            </Text>
                        </HBox>

                        <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                        <GridPane hgap="15" vgap="10">
                            <Label text="Edad:" style="-fx-text-fill: #bdc3c7;" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                            <Label fx:id="lblEdad" text="25 aÃ±os" style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                            <Label text="GÃ©nero:" style="-fx-text-fill: #bdc3c7;" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                            <Label fx:id="lblGenero" text="Masculino" style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                            <Label text="TelÃ©fono:" style="-fx-text-fill: #bdc3c7;" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                            <Label fx:id="lblTelefono" text="3001234567" style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                            <Label text="Correo:" style="-fx-text-fill: #bdc3c7;" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                            <Label fx:id="lblCorreo" text="cliente@email.com" style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                            <Label text="DirecciÃ³n:" style="-fx-text-fill: #bdc3c7;" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                            <Label fx:id="lblDireccion" text="Calle 10 # 20-30" style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                            <Label text="Barrio:" style="-fx-text-fill: #bdc3c7;" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                            <Label fx:id="lblBarrio" text="Centro" style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="5"/>

                            <Label text="Fecha Registro:" style="-fx-text-fill: #bdc3c7;" GridPane.columnIndex="0" GridPane.rowIndex="6"/>
                            <Label fx:id="lblFechaRegistro" text="01/01/2024" style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="6"/>
                        </GridPane>
                    </VBox>

                    <!-- Card: Estado MembresÃ­a -->
                    <VBox spacing="15" style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                          HBox.hgrow="ALWAYS">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Text text="ðŸ’³" style="-fx-fill: #3498db;">
                                <font><Font size="20.0"/></font>
                            </Text>
                            <Text text="MembresÃ­a Actual" style="-fx-fill: #ecf0f1;">
                                <font><Font name="System Bold" size="16.0"/></font>
                            </Text>
                        </HBox>

                        <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                        <VBox fx:id="boxMembresia" spacing="10" alignment="CENTER">
                            <!-- Se llenarÃ¡ dinÃ¡micamente -->
                            <Text fx:id="lblTipoMembresia" text="MENSUAL" style="-fx-fill: #3498db;">
                                <font><Font name="System Bold" size="24.0"/></font>
                            </Text>
                            <HBox spacing="5" alignment="CENTER">
                                <Text fx:id="lblEstadoMembresia" text="âœ“ ACTIVA" style="-fx-fill: #27ae60;">
                                    <font><Font name="System Bold" size="16.0"/></font>
                                </Text>
                            </HBox>
                        </VBox>

                        <GridPane hgap="15" vgap="10">
                            <Label text="Fecha Inicio:" style="-fx-text-fill: #bdc3c7;" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                            <Label fx:id="lblFechaInicioMembresia" text="01/01/2024" style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                            <Label text="Fecha Fin:" style="-fx-text-fill: #bdc3c7;" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                            <Label fx:id="lblFechaFinMembresia" text="31/01/2024" style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                            <Label text="DÃ­as Restantes:" style="-fx-text-fill: #bdc3c7;" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                            <Label fx:id="lblDiasRestantes" text="15 dÃ­as" style="-fx-text-fill: #27ae60; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                            <Label text="Precio:" style="-fx-text-fill: #bdc3c7;" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                            <Label fx:id="lblPrecioMembresia" text="50.000" style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                        </GridPane>

                        <Button fx:id="btnRenovarMembresia" text="ðŸ”„ Renovar MembresÃ­a" maxWidth="Infinity"
                                onAction="#handleRenovarMembresia"
                                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand; -fx-padding: 10;">
                        </Button>
                    </VBox>
                </HBox>

                <!-- Fila 2: Entrenador + EstadÃ­sticas Asistencias -->
                <HBox spacing="20" alignment="TOP_LEFT">

                    <!-- Card: Entrenador Asignado -->
                    <VBox spacing="15" style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                          HBox.hgrow="ALWAYS">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Text text="ðŸ‹ï¸" style="-fx-fill: #3498db;">
                                <font><Font size="20.0"/></font>
                            </Text>
                            <Text text="Entrenador Asignado" style="-fx-fill: #ecf0f1;">
                                <font><Font name="System Bold" size="16.0"/></font>
                            </Text>
                        </HBox>

                        <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                        <VBox fx:id="boxEntrenador" spacing="10" alignment="CENTER">
                            <!-- Se llenarÃ¡ dinÃ¡micamente -->
                        </VBox>

                        <Button fx:id="btnAsignarEntrenador" text="âž• Asignar Entrenador" maxWidth="Infinity"
                                onAction="#handleAsignarEntrenador"
                                style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand; -fx-padding: 10;">
                        </Button>
                    </VBox>

                    <!-- Card: EstadÃ­sticas de Asistencias -->
                    <VBox spacing="15" style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;"
                          HBox.hgrow="ALWAYS">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Text text="âœ…" style="-fx-fill: #3498db;">
                                <font><Font size="20.0"/></font>
                            </Text>
                            <Text text="Asistencias" style="-fx-fill: #ecf0f1;">
                                <font><Font name="System Bold" size="16.0"/></font>
                            </Text>
                        </HBox>

                        <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                        <HBox spacing="20">
                            <VBox spacing="5" alignment="CENTER" HBox.hgrow="ALWAYS">
                                <Text fx:id="lblTotalAsistencias" text="0" style="-fx-fill: #3498db;">
                                    <font><Font name="System Bold" size="32.0"/></font>
                                </Text>
                                <Text text="Total" style="-fx-fill: #bdc3c7;">
                                    <font><Font size="12.0"/></font>
                                </Text>
                            </VBox>

                            <Separator orientation="VERTICAL"/>

                            <VBox spacing="5" alignment="CENTER" HBox.hgrow="ALWAYS">
                                <Text fx:id="lblAsistenciasMes" text="0" style="-fx-fill: #27ae60;">
                                    <font><Font name="System Bold" size="32.0"/></font>
                                </Text>
                                <Text text="Este Mes" style="-fx-fill: #bdc3c7;">
                                    <font><Font size="12.0"/></font>
                                </Text>
                            </VBox>
                        </HBox>

                        <VBox spacing="5">
                            <Label text="Ãšltima Asistencia:" style="-fx-text-fill: #bdc3c7;"/>
                            <Label fx:id="lblUltimaAsistencia" text="Hoy" style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;"/>
                        </VBox>

                        <Button text="ðŸ“Š Ver Historial" maxWidth="Infinity"
                                onAction="#handleVerHistorialAsistencias"
                                style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand; -fx-padding: 10;">
                        </Button>
                    </VBox>
                </HBox>

                <!-- Fila 3: Rutinas Activas -->
                <VBox spacing="15" style="-fx-background-color: #34495e; -fx-background-radius: 10; -fx-padding: 20;">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Text text="ðŸ“" style="-fx-fill: #3498db;">
                            <font><Font size="20.0"/></font>
                        </Text>
                        <Text text="Rutinas Activas" style="-fx-fill: #ecf0f1;">
                            <font><Font name="System Bold" size="16.0"/></font>
                        </Text>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="âž• Asignar Rutina" onAction="#handleAsignarRutina"
                                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand; -fx-padding: 8 15;">
                        </Button>
                    </HBox>

                    <Separator style="-fx-background-color: rgba(255,255,255,0.1);"/>

                    <ListView fx:id="listRutinas" prefHeight="150"
                              style="-fx-background-color: #2c3e50; -fx-background-radius: 8;">
                    </ListView>
                </VBox>

            </VBox>
        </content>
    </ScrollPane>

</VBox>